/*!TikTok attaches importance to your privacy and safety. We use this script to control webapi usages and make sure they are within our privacy policy.*/
!function(){"use strict";var e="main_thread",t="out_app",r="cookie_set_by_document",n="cookie_blocked_on_start",a="general_fetch",o="webapi",i="storage_use",l="sw_incompat",c="ready_for_msg",s="force_update_sw",u="frequency",p="cost_time",d="main_thread_ctx",f="network_rule",h="__PNS_RUNTIME_SW_EVENT__",v="__PNS_RUNTIME_SE_ERROR__",m="__PNS_RUNTIME__";function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e,t){if(e)try{return new URL(e,t)}catch(e){return}};function g(){var e,t=null===(e=document.currentScript)||void 0===e?void 0:e.src;try{var r=b(t);return(null==r?void 0:r.searchParams.get("globalName"))||m}catch(e){return m}}var w=function(e,t,r){e.splice(0,e.length-r+1),e.push(t)},k=100;function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g(),r=globalThis[t];return r||(r={pendingEvents:[],pendingConfig:{},pendingListeners:{},errors:[],pushEvent:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3?arguments[3]:void 0;w(r.pendingEvents,{eventName:t,eventDetail:n,source:a,options:o},k)},pushError:function(e){w(r.errors,e,20)},pageContextObservers:[]},globalThis[t]=r),r}function R(){return"undefined"==typeof globalThis}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return R()?null:x(e)}var S=function(e,t){if("object"!=typeof t)return!1;if("$eq"in t&&e!==t.$eq||"$ne"in t&&e===t.$ne||"$exists"in t&&void 0===e||void 0!==t.$in&&-1===t.$in.indexOf(e)||void 0!==t.$nin&&-1!==t.$nin.indexOf(e))return!1;var r;try{var n;r="string"==typeof e?e:null!==(n=JSON.stringify(e))&&void 0!==n?n:""}catch(e){return!1}return!(void 0!==t.$regex&&!new RegExp(t.$regex,t.$options).test(r)||void 0!==t.$text&&-1===r.indexOf(t.$text)||void 0!==t.$prefix&&!r.startsWith(t.$prefix))},j=function(e){return e&&"function"==typeof e.then},q=function(e){return function(t){return j(e)?e.then(t):t(e)}};function $(e,t,r){return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];try{var i=e.apply(void 0,_(a));return i}catch(e){return C.error(e),null==t||t(e),r}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=["log","error","warn"];function T(e){var t={},r=!0,n=!1,a=void 0;try{for(var o,i=function(){var r=o.value;t[r]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var o;e()&&(o=console)[r].apply(o,A(n))}},l=E[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)i()}catch(e){n=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw a}}return t}var C=T((function(){return!1})),P=T((function(){return!1})),L=T((function(){return!0}));function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function H(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function F(e,t){var r=e,n=Object.keys(t),a=!0,o=!1,i=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value;if(r.startsWith(s)){r=t[s]+e.substring(s.length);break}}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return r}function G(e,t){var r=t.blocklist,n=t.allowlist,a=t.enableSameOriginBlock;if(r){var o=e.startsWith(location.origin),i=!0,l=!1,c=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var p=s.value;if(e.startsWith(p)&&(!o||a&&o))return!0}}catch(e){l=!0,c=e}finally{try{i||null==u.return||u.return()}finally{if(l)throw c}}}if(n&&n.length>0){var d=!1,f=!0,h=!1,v=void 0;try{for(var m,y=n[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var _=m.value;e.startsWith(_)&&(d=!0)}}catch(e){h=!0,v=e}finally{try{f||null==y.return||y.return()}finally{if(h)throw v}}if(!d)return!0}return!1}var J=["127.0.0.1","localhost"],V=["is_test_only=1","slardar_heatmap"];function z(e,t){var r=b(t);if(r){var n=r.search;if(n)for(var a=0;a<V.length;a++)if(-1!==n.indexOf(V[a]))return!0}var o=b(e);return!(!o||-1===J.indexOf(o.hostname))}var Y,X,K=function(){return new Response("request blocked",{status:410,statusText:"cross border request is not allowed",headers:{"x-pns-blocked":"1"}})},Q=function(){return new Response("the request is blocked by pumbaa",{status:410,statusText:"request is not allowed",headers:{"x-pns-blocked":"1"}})},Z="2",ee="3",te="4",re="5",ne=function(e){var t={};return e.forEach((function(e,r){var n;U(e,File)?Reflect.set(t,r,"file"):U(e,Blob)?Reflect.set(t,r,"blob"):Reflect.set(t,r,void 0===e?"undefined":(n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)})),t},ae=function(e){var t=e.url,r=e.referrer,n=e.headers,a=e.method,o=e.destination,i={};n.forEach((function(e,t){i[t]=e}));var l=n.get("Content-Type")||"",c="",s="",u="";try{var p=new URL(t);c=p.search,s=p.host,u=p.pathname}catch(e){}var d,f={request_url:t,request_host:s,request_path:u,header_names:Array.from(n.keys()).join(","),header_map:i,referrer:r,search:c,method:a,contentType:l,destination:o,_request_time:Date.now(),_is_json_body:-1!==l.indexOf("application/json"),_sample_rate:0},h=e.clone();["POST","PUT","PATCH"].includes(a)&&(l.includes("application/json")?f.body=h.json():l.includes("application/x-www-form-urlencoded")?f.body=h.text().then((function(e){return t=new URLSearchParams(e),r={},t.forEach((function(e,t){Reflect.set(r,t,e)})),r;var t,r})):l.includes("multipart/form-data")&&(f.body=h.formData().then((function(e){return ne(e)}))),f.body=null===(d=f.body)||void 0===d?void 0:d.catch((function(){return{}})));return f},oe=function(e){return"urlPattern"in e},ie=function(e){var t,r=e.reduce((function(e,t){return oe(t)?e.push("url"):t.conditions.forEach((function(t){"context"===t.type&&e.push(t.field)})),e}),[]);return t=r.reduce((function(e,t){return e[t]=null,e}),{}),Object.keys(t)};function le(e,t){var r=t.replace,n=t.allowlist,a=t.blocklist,o=t.enableSameOriginBlock,i=!1,l=e.request_url,c=!1;if(r&&(i=(l=F(l,r))!==e.request_url),(a||n)&&(c=G(l,{allowlist:n,blocklist:a,enableSameOriginBlock:o})),c)e["x-pns-block"]="1",e._blocked=!0;else if(i){var s;e.request_url=l;var u,p,d,f,h=b(l);e.request_host=null!==(u=null==h?void 0:h.host)&&void 0!==u?u:"",e.request_path=null!==(p=null==h?void 0:h.pathname)&&void 0!==p?p:"",e.search=null!==(d=null==h?void 0:h.search)&&void 0!==d?d:"",null!==(f=(s=e)._replaced_fields)&&void 0!==f||(s._replaced_fields=[]),e._replaced_fields.push("url"),e["x-pns-replace"]="1"}return(c||i)&&(e.rule_name=t.ruleName?"".concat(e.rule_name?"".concat(e.rule_name,","):"").concat(t.ruleName):e.rule_name),e}function ce(e,t){var r=encodeURIComponent(t),n=("?"===e[0]?e.slice(1):e).split("&"),a=!0,o=!1,i=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=M(l.value.split("="),2),u=s[0],p=s[1];if(u===r)return decodeURIComponent(p)}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}}function se(e,t){t.type;var r=t.pattern;switch(t.type){case"body":if(!e._is_json_body)return!1;var n,a=null!==(n=e._parsed_json_body)&&void 0!==n?n:e.body,o=t.field,i=function(e){try{var t=!0,n=!1,a=void 0;try{for(var i,l=o[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){e=e[i.value]}}catch(e){n=!0,a=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}}catch(e){return!1}return!!S(e,r)};return j(a)?a.then(i,(function(){return!1})):i(a);case"url":if(S(e.request_url,r))return!0;break;case"host":if(S(e.request_host,r))return!0;break;case"path":if(S(e.request_path,r))return!0;break;case"search":if(!e.search)return!1;var l=ce(e.search,t.field);if(S(l,r))return!0;break;case"header":var c,s;if(S(null!==(s=null===(c=e.header_map)||void 0===c?void 0:c[t.field])&&void 0!==s?s:"",r))return!0;break;case"method":if(S(e.method,r))return!0;break;case"source":if(S(e.source,r))return!0;break;case"destination":if(S(e.destination,r))return!0}return!1}function ue(e,t,r,n,a){switch(t.handler){case"replace":return void 0===t.pattern?t.value:function(e,t,r){if(!S(e,t))return e;if(["$eq","$ne","$exists","$in","$nin"].some((function(e){return e in t})))return r;var n,a="string"==typeof e,o=a?e:null!==(n=JSON.stringify(e))&&void 0!==n?n:"";return void 0!==t.$regex?o=o.replace(new RegExp(t.$regex,t.$options),r):void 0!==t.$text?o=o.replace(t.$text,r):void 0!==t.$prefix&&(o=o.replace(t.$prefix,r)),$((function(){return a?o:JSON.parse(o)}),void 0,e)()}(r(),t.pattern,t.value);case"remove":return n;case"empty":return a}}function pe(e,t){var r=e;switch(t.type){case"body":if(!r._is_json_body)return r;var n=t.type,a=t.field,o=function(e){var r,o=void 0===e._parsed_json_body?"body":"_parsed_json_body",i=ue(0,t,(function(){return function(e,t){try{var r=e,n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0)r=r[i.value]}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}catch(e){}}(e,[o].concat(B(a)))}),void 0,null);return function(e,t,r){var n=e;try{var a=t.pop(),o=!0,i=!1,l=void 0;try{for(var c,s=t[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)n=n[c.value]}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}n[a]=r}catch(e){}}(e,[o].concat(B(a)),i),e._replaced_fields=B(null!==(r=e._replaced_fields)&&void 0!==r?r:[]).concat([n]),e._modified=!0,e};return j(r.body)?r.body.then((function(e){return r.body=e,r})).then(o):o(r);case"url":var i,l=ue(0,t,(function(){return r.request_url})),c=b(l);r.request_url=l,r.request_host=c.host,r.request_path=c.pathname,r.search=c.search,r._replaced_fields=B(null!==(i=r._replaced_fields)&&void 0!==i?i:[]).concat([t.type]);break;case"host":var s,u=ue(0,t,(function(){return r.request_host}),"",""),p=b(r.request_url);p.host=u,r.request_url=p.href,r.request_host=u,r._replaced_fields=B(null!==(s=r._replaced_fields)&&void 0!==s?s:[]).concat(["url"]);break;case"path":var d,f=ue(0,t,(function(){return r.request_path}),"",""),h=b(r.request_url);h.pathname=f,r.request_url=h.href,r.request_path=f,r._replaced_fields=B(null!==(d=r._replaced_fields)&&void 0!==d?d:[]).concat(["url"]);break;case"search":var v,m=ue(0,t,(function(){return ce(r.search,t.field)}),void 0,""),y=function(e,t,r){for(var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=encodeURIComponent(t),o="?"===e[0],i=(o?e.slice(1):e).split("&"),l=!1,c=0;c<i.length;c++){var s=M(i[c].split("="),2),u=s[0];if(s[1],u===a){if(l=!0,void 0===r){i.splice(c,1);break}var p=encodeURIComponent(r);i[c]="".concat(a,"=").concat(p);break}}if(n&&!l&&void 0!==r){var d=encodeURIComponent(r);i.push("".concat(a,"=").concat(d))}return"".concat(o?"?":"").concat(i.join("&"))}(r.search,t.field,m),_=b(r.request_url);_.search=y,r.request_url=_.href,r.search=y,r._replaced_fields=B(null!==(v=r._replaced_fields)&&void 0!==v?v:[]).concat(["url"]);break;case"header":var g,w,k,x,R=ue(0,t,(function(){var e;return null===(e=r.header_map)||void 0===e?void 0:e[t.field]}),void 0,"");if(void 0===R)null===(g=r.header_map)||void 0===g||delete g[t.field];else r.header_map=H(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){D(e,t,r[t])}))}return e}({},null!==(w=r.header_map)&&void 0!==w?w:{}),D({},t.field,R));r.header_names=Object.keys(null!==(k=r.header_map)&&void 0!==k?k:{}).join(","),r._replaced_fields=B(null!==(x=r._replaced_fields)&&void 0!==x?x:[]).concat([t.type]);break;case"method":var O,S=ue(0,t,(function(){return r.method}),"","");r.method=S,r._replaced_fields=B(null!==(O=r._replaced_fields)&&void 0!==O?O:[]).concat([t.type]);break;default:return r}return r._modified=!0,r}function de(e,t){if(t.some((function(e){return"block"===e.handler})))return e._blocked=!0,e._modified=!0,e;var r=e,n=!0,a=!1,o=void 0;try{for(var i,l=function(){var e,t=i.value;if("report"===t.handler)return r._sample_rate=null!==(e=t.value)&&void 0!==e?e:1,"continue";r=j(r)?r.then((function(e){return pe(e,t)})):pe(r,t)},c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)l()}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}var fe=function(e,t){var r=function(e){return e.rule_name=t.ruleName?"".concat(e.rule_name?"".concat(e.rule_name,","):"").concat(t.ruleName):e.rule_name,e};e._modified=!1;var n=function(e,t){var r=!0,n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=se(e,i.value);if(!c||!r)return!1;(j(c)||j(r))&&(r=Promise.all([c,r]).then((function(e){var t=M(e,2),r=t[0],n=t[1];return r&&n}),(function(){return!1})))}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t.conditions.filter((function(e){return"context"!==e.type})));return j(n)?n.then((function(n){if(!n)return e;var a=de(e,t.handlers);return j(a)?a.then(r):r(a)})):n?q(de(e,t.handlers))(r):e};function he(e){var t,r;return(null!==(r=null===(t=e._replaced_fields)||void 0===t?void 0:t.length)&&void 0!==r?r:0)>0||e._blocked||!1}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location,t=e.href,r=e.host,n=e.pathname,a=e.search,o=e.hash;return{url:t,host:r,path:n,search:a,hash:o}}function me(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
me=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return O()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=g(i,r);if(l){if(l===u)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function p(){}function d(){}function f(){}var h={};l(h,a,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(R([])));m&&m!==t&&r.call(m,a)&&(h=m);var y=f.prototype=p.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function g(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(y),l(y,i,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t,r){return t&&be(e.prototype,t),r&&be(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Oe(e,t,r){return Oe=Re()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&xe(a,r.prototype),a},Oe.apply(null,arguments)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function qe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}function $e(){return $e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=qe(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},$e.apply(this,arguments)}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(e){if("string"==typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ce(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ee(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}var Pe="".trimStart||function(){return this.replace(/^[\s\uFEFF\xA0]+/,"")},Le=function(e){return"function"==typeof e},Ie=function(){};var De=function(){var e=Object.prototype.hasOwnProperty;return function(t,r){return e.call(t,r)}}(),Ue=function(e,t,r){De(e,r)&&(t[r]=e[r])};function He(e,t){if(!e)return[void 0,e];for(var r,n,a=e;a&&!n;)n=Object.getOwnPropertyDescriptor(a,t),r=a,a=Object.getPrototypeOf(a);return[n,r]}function Me(e,t,r){try{var n=Ne(He(e,t),2),a=n[0],o=n[1];if(!(null==a?void 0:a.configurable))return!1;var i={},l=a.set,c=a.get,s=r.set,u=r.get;return l&&s&&(i.set=function(e){s(e)||l.call(this,e)}),c&&u&&(i.get=function(){if(!u())return c.call(this)}),Object.defineProperty(o,t,i),!0}catch(e){}return!1}function Be(e,t,r,n){try{var a=Ne(He(e,t),2)[1];if("object"===ye(a)&&a&&Le(a[t])){var o=a[t];a[t]=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=r.call.apply(r,[this].concat(t));return i?(null==n?void 0:n())||void 0:o.call.apply(o,[this].concat(t))}}}catch(e){}}function We(e){return e>Math.random()}function Fe(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=(new Error).stack;return null!==(e=null==r?void 0:r.split("\n").slice(t).map((function(e){return e.trim()})).join("\n"))&&void 0!==e?e:""}function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="";for(var n in t)r+="; ".concat(n),r+="=".concat(t[n].split(";")[0]);document.cookie="".concat(e,"=; expires=").concat(new Date(Date.now()-864e5).toUTCString()).concat(r)}function Je(e){var t=e.split("=").slice(1).join("=");try{'"'===t[0]&&(t=t.slice(1,-1)),t=t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)}catch(e){}return t}function Ve(e,t){return function(){if(Math.random()<t)return e.apply(void 0,arguments)}}function ze(e,t){var r=x();return $(e,(function(e){return r.pushError(e)}),t)}function Ye(e){try{return JSON.parse(e)}catch(e){return}}/iPhone|iPad/.test(navigator.userAgent);var Xe="cookie-consent";function Ke(e){var t=document.head.querySelector(e);if(!t)return null;try{var r=t.content.split(",").reduce((function(e,t){var r=Ne(t.split("="),2),n=r[0],a=r[1];return e[n]=a,e}),{});return r}catch(e){return null}}function Qe(){var e={},t=Ke("meta[name=pumbaa-web-config]");if(t)for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r],o=t[a];Object.assign(e,we({},a,["true","false"].includes(o)?"true"===o:o))}else if(document.currentScript){var i=document.currentScript.dataset;Object.assign(e,null!=i?i:{})}return function(e,t){var r,n={},a=Ce(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(Array.isArray(o)){var i,l=Ce(o);try{for(l.s();!(i=l.n()).done;){var c=i.value;Ue(e,n,c)}}catch(e){l.e(e)}finally{l.f()}}else Ue(e,n,o)}}catch(e){a.e(e)}finally{a.f()}return n}(e,["business","env","region","sw","theme","host","rule","sw_version"])}function Ze(e){var t={};try{for(var r=JSON.parse(e),n=0,a=Object.keys(r);n<a.length;n++){var o=a[n];t["cookie_".concat(o)]=r[o]}}catch(e){}return t}function et(){var e=function(e){if("undefined"!=typeof document)for(var t=document.cookie?document.cookie.split("; "):[],r=0;r<t.length;r++){var n=t[r].split("=");try{if(e===decodeURIComponent(n[0]))return Je(t[r])}catch(e){}}}(Xe);return e?Ze(e):{}}function tt(e,t){var r,n=x();null!==(r=n.pageContextObservers)&&void 0!==r||(n.pageContextObservers=[]),n.pageContextObservers.push({func:e,fields:t})}function rt(){var e,t,r=x();if(!r.pageContext){var n=null!==(t=Ke("meta[name=pumbaa-ctx]"))&&void 0!==t?t:{},a=Qe(),o=a.region,i=a.business,l=et(),c=ve(),s=Object.assign(Object.assign(Object.assign({region:o,business:i},l),c),n);e=function(){at().updatePageContext(ve())},window.addEventListener("popstate",e),["pushState","replaceState"].forEach((function(t){var r=History.prototype[t];History.prototype[t]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];r.apply(this,n),e()}})),r.pageContext=s}return r.pageContext}var nt=function(){var e,t;return null!==(t=null===(e=x())||void 0===e?void 0:e.pageContextObservers)&&void 0!==t?t:[]},at=ze((function(){var e,t,r=function(e,t){var r=e(),n=t();return function(e){var t=Object.keys(e),a={},o=!0,i=!1,l=void 0;try{for(var c,s=t[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;r[u]!==e[u]&&(a[u]=e[u])}}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}if(0!==Object.keys(a).length){Object.assign(r,a);var p=!0,d=!1,f=void 0;try{for(var h,v=n[Symbol.iterator]();!(p=(h=v.next()).done);p=!0){var m=h.value;(void 0===m.fields||m.fields.some((function(e){return void 0!==a[e]})))&&m.func(r)}}catch(e){d=!0,f=e}finally{try{p||null==v.return||v.return()}finally{if(d)throw f}}}}}(rt,nt);return null!==(e=(t=x()).updateContext)&&void 0!==e||(t.updateContext=function(e){if("object"!==ye(n=e)||null===n);else{var t=Object.keys(e).filter((function(e){return function(e){return"string"==typeof e}(e)})).reduce((function(t,r){return t[r]=e[r],t}),{});r(t)}var n}),{updatePageContext:r,pageContext:rt()}}));function ot(){var e=O();if(null===e)throw new Error("");if(!e.ruleset){var t=Qe().rule,r=t?Ye(t):void 0;e.ruleset=r||{cookie:{blockers:[{cookies:["MONITOR_WEB_ID","MONITOR_DEVICE_ID"],domains:["tiktok.com","tiktokv.com"]}],enabled:!0,sampleRate:.07,stackCollectCookies:[""],stackSampleRate:.07},network:{fpBody:"0.1",freq:[{freqSampleRate:1,reportList:["https://www.google-analytics.com/collect","https://www.google-analytics.com/j/collect","https://www.google-analytics.com/g/collect"],ruleName:"ga",urlPattern:["www.tiktok.com/amp/tag/","getstarted.tiktok.com/","www.tiktok.com/business"]}],intercept:[{conditions:[{pattern:{$prefix:"http://"},type:"url"}],handlers:[{handler:"replace",pattern:{$prefix:"http://"},type:"url",value:"https://"}],priority:-1e3,ruleName:"plain_text"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/legal\\/page\\/global\\/right-to-object(?:\\/(en|el-GR|hr-HR))[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/tns-inapp\\/pages\\/account_status[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"inapp.tiktokv.com"},type:"context"},{field:"path",pattern:{$regex:"\\/tpp\\/associated-video\\/aggregation[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/creator-discover-list\\/foodies[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/community-guidelines\\/id-id\\/mental-behavioral-health[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"affiliate.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/plan\\/shop-based\\/manage-creator[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/tiktok-rewards\\/keara-wilsons-viral-tiktok-on-savage[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/browse\\/extreme-sports\\/all[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/setting\\/account-deletion\\/oauth[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"},{field:"path",pattern:{$regex:"\\/creator-discover-list\\/innovators[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"host",pattern:{$eq:"api.tiktokglobalshopv.com"},type:"context"},{field:"path",pattern:{$regex:"\\/m\\/fe_seller_main\\/product\\/index\\.html\\/create[\\/]?$"},type:"context"}],handlers:[{handler:"report",type:"self",value:1}],priority:-100,ruleName:"low_pv_report"},{conditions:[{field:"business",pattern:{$regex:"^serverless\\.tiktok\\.(desktop|mobile)$"},type:"context"}],handlers:[{handler:"report",type:"self",value:.01}],priority:-1,ruleName:""},{conditions:[{field:"cookie_hubspot",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$eq:"forms.hsforms.com"},type:"host"}],handlers:[{handler:"report",type:"self",value:1}],priority:0,ruleName:"hubspot_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"url",pattern:{$prefix:"https://music.tiktok.com"},type:"context"},{pattern:{$regex:"^(www.google-analytics.com|analytics.google.com|stats.g.doubleclick.net|region1.analytics.google.com)$"},type:"host"},{pattern:{$prefix:"/g/collect"},type:"path"}],handlers:[{handler:"report",type:"self",value:1}],priority:1,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$regex:"^(www.google-analytics.com|analytics.google.com|stats.g.doubleclick.net|region1.analytics.google.com)$"},type:"host"},{pattern:{$prefix:"/g/collect"},type:"path"}],handlers:[{handler:"report",type:"self",value:1}],priority:2,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$text:"www.google-analytics.com/mp/collect"},type:"url"}],handlers:[{handler:"report",type:"self",value:1}],priority:3,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$regex:"^www.google.[\\S+]$"},type:"host"},{pattern:{$prefix:"/pagead/1p-user-list/735939924"},type:"path"}],handlers:[{handler:"report",type:"self",value:1}],priority:4,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$regex:"^(googleads.g.doubleclick.net|www.googleadservices.com)$"},type:"host"},{pattern:{$regex:"^/pagead/(viewthroughconversion|conversion)$"},type:"path"}],handlers:[{handler:"report",type:"self",value:1}],priority:5,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_ga",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$regex:"^(www.google.com|googleads.g.doubleclick.net)$"},type:"host"},{pattern:{$prefix:"/pagead/landing"},type:"path"}],handlers:[{handler:"report",type:"self",value:1}],priority:6,ruleName:"ga_cookie_consent_error"},{conditions:[{field:"cookie_fbp",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$text:"www.facebook.com/tr"},type:"url"}],handlers:[{handler:"report",type:"self",value:1}],priority:7,ruleName:"facebook_pixel_cookie_consent_error"},{conditions:[{field:"cookie_fbp",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$text:"connect.facebook.net/signals/config"},type:"url"}],handlers:[{handler:"report",type:"self",value:1}],priority:8,ruleName:"facebook_pixel_cookie_consent_error"},{conditions:[{field:"cookie_lip",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$eq:"px.ads.linkedin.com"},type:"host"},{pattern:{$regex:"^/(wa|collect)/?$"},type:"path"}],handlers:[{handler:"report",type:"self",value:1}],priority:9,ruleName:"linkedin_cookie_consent_error"},{conditions:[{field:"cookie_bing",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$text:"bat.bing.com/action/0"},type:"url"}],handlers:[{handler:"report",type:"self",value:1}],priority:10,ruleName:"bing_cookie_consent_error"},{conditions:[{field:"cookie_bing",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$text:"bat.bing.com/p/insights/c"},type:"url"}],handlers:[{handler:"report",type:"self",value:1}],priority:11,ruleName:"bing_cookie_consent_error"},{conditions:[{field:"cookie_ttads",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$text:"analytics.tiktok.com/api/v2/pixel"},type:"url"}],handlers:[{handler:"report",type:"self",value:1}],priority:12,ruleName:"tiktok_pixel_cookie_consent_error"},{conditions:[{field:"cookie_reddit",pattern:{$ne:!0},type:"context"},{field:"cb_enabled",pattern:{$eq:"1"},type:"context"},{pattern:{$text:"alb.reddit.com/rp.gif"},type:"url"}],handlers:[{handler:"report",type:"self",value:1}],priority:13,ruleName:"reddit_cookie_consent_error"},{conditions:[{field:"url",pattern:{$regex:"https://www.tiktok.com/business"},type:"context"},{pattern:{$regex:"^js.hsforms.net|forms.hsforms.com$"},type:"host"}],handlers:[{handler:"report",type:"self",value:1}],priority:14,ruleName:"hubspot_report_test"},{conditions:[{field:"url",pattern:{$prefix:"https://getstarted.tiktok.com/vn-brand"},type:"context"},{pattern:{$text:"reddit"},type:"host"}],handlers:[{handler:"report",type:"self",value:.5}],priority:15,ruleName:"reddit_report_test"},{conditions:[{field:"battery_info",pattern:{$exists:!0},type:"search"},{pattern:{$regex:"^(us|www)\\.tiktok\\.com$"},type:"host"}],handlers:[{field:"battery_info",handler:"remove",pattern:{$exists:!0},type:"search"}],priority:16,ruleName:"battery_info_query_block"},{conditions:[{field:["battery_info"],pattern:{$exists:!0},type:"body"},{pattern:{$regex:"^(us|www)\\.tiktok\\.com$"},type:"host"}],handlers:[{field:["battery_info"],handler:"remove",pattern:{$exists:!0},type:"body"}],priority:17,ruleName:"battery_info_body_block"},{conditions:[{pattern:{$regex:"www\\.google-analytics\\.com\\/analytics.js|stats\\.g\\.doubleclick\\.net\\/j\\/collect|www\\.google-analytics\\.com\\/j\\/collect|ssl\\.google-analytics\\.com\\/__utm\\.gif"},type:"url"}],handlers:[{handler:"block",type:"self"}],priority:18,ruleName:"ga3_block"},{conditions:[{pattern:{$prefix:"https://ssl.google-analytics.com/__utm.gif"},type:"url"}],handlers:[{handler:"block",type:"self"}],priority:19,ruleName:"ua_block"},{conditions:[{pattern:{$prefix:"https://stats.g.doubleclick.net/j/collect"},type:"url"}],handlers:[{handler:"block",type:"self"}],priority:20,ruleName:"ua_block"},{conditions:[{pattern:{$prefix:"https://www.google-analytics.com/analytics.js"},type:"url"}],handlers:[{handler:"block",type:"self"}],priority:21,ruleName:"ua_block"},{conditions:[{pattern:{$prefix:"https://www.youtube.com/iframe_api"},type:"url"},{field:"host",pattern:{$eq:"www.tiktok.com"},type:"context"}],handlers:[{handler:"block",type:"self"}],priority:22,ruleName:"youtube_cutoff"},{conditions:[{pattern:{$prefix:"https://www.google-analytics.com/j/collect"},type:"url"}],handlers:[{handler:"block",type:"self"}],priority:23,ruleName:"ua_block"},{conditions:[{field:"business",pattern:{$eq:"serverless.tiktok.ftc"},type:"context"},{pattern:{$eq:"https://mcs-va.tiktokv.com/v1/list"},type:"url"},{pattern:{$eq:"POST"},type:"method"}],handlers:[{handler:"block",type:"self"}],priority:24,ruleName:"km_logging_block"}],rawVal:[{endpoint:["https://maliva-mcs.byteoversea.com/list","https://maliva-mcs.byteoversea.com/v1/list","https://mcs-i18n.tiktok.com/v1/list","https://mcs-ie.tiktokw.eu/list","https://mcs-ie.tiktokw.eu/v1/list","https://mcs-sg.tiktok.com/list","https://mcs-sg.tiktok.com/v1/list","https://mcs-sg.tiktokv.com/list","https://mcs-sg.tiktokv.com/v1/list","https://mcs-ttp2.us.tiktok.com/v1/list","https://mcs-va-useast2a.tiktokv.com/list","https://mcs-va-useast2a.tiktokv.com/v1/list","https://mcs-va.tiktok.com/list","https://mcs-va.tiktok.com/v1/list","https://mcs-va.tiktokv.com/list","https://mcs-va.tiktokv.com/v1/list","https://mcs.snssdk.com/list","https://mcs.snssdk.com/v1/list","https://mcs.tiktokv.us/v1/list","https://mcs.tiktokw.us/list","https://mcs.tiktokw.us/v1/list","https://mcs.us.tiktok.com/list","https://mcs.us.tiktok.com/v1/list","https://mcs.us.tiktokv.com/v1/list","https://mcs.zijieapi.com/list","https://sgali-mcs.byteoversea.com/list","https://sgali-mcs.byteoversea.com/v1/list"],keyPath:["0.header.app_id","0.header.sdk_lib","0.header.sdk_version","0.events.0.event"]}],respHeaders:["content-type"],sampleRate:.03,withStack:[{endpoint:["cursors-4u.net","cursor.cc"],rate:.1,urlPattern:["www.tiktok.com"]}]},reporter:{freqInterval:3e4,freqSize:30,interval:3e3,size:15},storage:{enabled:!0,sampleRate:.1,stackCollectKeys:[],valueRate:.1},webapi:{apis:[{apiName:"share",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:0,paramCondition:{},sampleRate:.03,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"open",apiObj:"",apiType:"method",block:!1,freqSampleRate:0,paramCondition:{},sampleRate:.03,stackRate:0,withRawArguments:[!0,!0],withStack:!1},{apiName:"RTCPeerConnection",apiObj:"",apiType:"constructor",freqSampleRate:0,paramCondition:{},sampleRate:.03,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"WebSocket",apiObj:"",apiType:"constructor",freqSampleRate:0,paramCondition:{},sampleRate:.03,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"execCommand",apiObj:"document",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{0:"paste"},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"execCommand",apiObj:"document",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{0:"copy"},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"readText",apiObj:"navigator.clipboard",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"writeText",apiObj:"navigator.clipboard",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"getUserMedia",apiObj:"navigator.mediaDevices",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[!0],withStack:!0},{apiName:"getUserMedia",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"webkitGetUserMedia",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"mozGetUserMedia",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"ondeviceorientation",apiObj:"",apiType:"attribute_set",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"ondeviceorientationabsolute",apiObj:"",apiType:"attribute_set",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"getCurrentPosition",apiObj:"navigator.geolocation",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[!1,!1,!0],withStack:!1},{apiName:"watchPosition",apiObj:"navigator.geolocation",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[!1,!1,!0],withStack:!1},{apiName:"clearWatch",apiObj:"navigator.geolocation",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:1,withRawArguments:[],withStack:!1},{apiName:"AbsoluteOrientationSensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"GravitySensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Gyroscope",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"LinearAccelerationSensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Magnetometer",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"RelativeOrientationSensor",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Accelerometer",apiObj:"",apiType:"constructor",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:.5,withRawArguments:[!0],withStack:!1},{apiName:"vibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:.1,withRawArguments:[],withStack:!0},{apiName:"webkitVibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"mozVibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"msVibrate",apiObj:"navigator",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"getDisplayMedia",apiObj:"navigator.mediaDevices",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:.01,paramCondition:{0:"deviceorientation"},sampleRate:.01,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:.01,paramCondition:{0:"devicemotion"},sampleRate:.01,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:1,paramCondition:{0:"MozOrientation"},sampleRate:1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"addEventListener",apiObj:"",apiType:"method",block:!1,freqSampleRate:.1,paramCondition:{0:"deviceorientationabsolute"},sampleRate:.1,stackRate:0,withRawArguments:[!0],withStack:!1},{apiName:"referrer",apiObj:"document",apiType:"attribute_get",block:!1,freqSampleRate:1e-4,paramCondition:{},sampleRate:1e-4,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"Notification",apiObj:"",apiType:"constructor",freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"mozNotification",apiObj:"navigator",apiType:"constructor",freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1},{apiName:"webkitNotification",apiObj:"",apiType:"constructor",freqSampleRate:1,paramCondition:{},sampleRate:1,stackRate:0,withRawArguments:[],withStack:!1}],enabled:!0}}}return e.ruleset}var it=function(e,t){var r,n=dt(t),a=(null!==(r=t.stackSampleRate)&&void 0!==r?r:0)/t.sampleRate,o=t.stackCollectCookies.map((function(e){return new RegExp(e)}));Me(document,"cookie",{set:function(r){var i,l=!1,c=lt(r);return"string"==typeof r&&(l=n.includes(c),Ve((function(){var t=o.some((function(e){return e.test(c)}))?Ve(Fe,a)():void 0;e({value:r,blocked:l,stack:t})}),t.sampleRate)()),c===Xe&&at().updatePageContext(Ze(null!==(i=function(e){var t,r=e.split(";"),n=!1,a=r.shift(),o=a?decodeURIComponent(a.split("=")[1]):void 0,i=Ce(r);try{for(i.s();!(t=i.n()).done;){var l=t.value,c=Ne(Pe.apply(l).split("=")[0],2),s=c[0],u=c[1];if("max-age"===s&&Number(u)<0)return;"expires"===s&&(n=Date.parse(u)<Date.now())}}catch(e){i.e(e)}finally{i.f()}return n?void 0:o}(r))&&void 0!==i?i:"{}")),l}}),Be(window.cookieStore,"set",(function(){for(var e=!1,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return 1===r.length&&"object"===ye(r[0])&&r[0]?e=n.includes(r[0].name):2===r.length&&"string"==typeof r[0]&&(e=n.includes(r[0])),e}),Promise.reject)};function lt(e){var t=e.split("=")[0];return t?Pe.call(t):void 0}var ct,st,ut=(ct=[],function(){if(0===ct.length)for(var e=location.hostname.split(".").filter(Boolean),t=e.length,r=0;r<t-1;r++){var n=e.slice(r).join(".");ct.push(n,".".concat(n)),ct.push(n,n)}return ct}),pt=(st=[],function(){if(0===st.length){st.push("/");for(var e=location.pathname.split("/").filter(Boolean),t=e.length,r=0;r<t;r++)st.push("/".concat(e.slice(0,t-r).join("/")))}return st});function dt(e){var t,r=e.blockers,n=Ce(void 0===r?[]:r);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=a.domains,i=void 0===o?[]:o,l=a.cookies,c=void 0===l?[]:l;if(i.some((function(e){return location.hostname.endsWith(e)})))return c}}catch(e){n.e(e)}finally{n.f()}return[]}var ft=function(e,t){!function(e,t){var r,n=Ce(document.cookie.split(";").filter(Boolean));try{for(n.s();!(r=n.n()).done;){var a=lt(r.value);if(-1!==e.indexOf(a)){var o,i=ut(),l=pt(),c=Ce(i);try{for(c.s();!(o=c.n()).done;){var s,u=o.value,p=Ce(l);try{for(p.s();!(s=p.n()).done;)Ge(a,{domain:u,path:s.value})}catch(e){p.e(e)}finally{p.f()}}}catch(e){c.e(e)}finally{c.f()}t(a)}}}catch(e){n.e(e)}finally{n.f()}}(dt(t),(function(t){e.pushEvent(n,{cookie:t})})),it(ze((function(t){e.pushEvent(r,t)})),t)};function ht(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function l(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((n=n.apply(e,t||[])).next())}))}var vt="setItem",mt="getItem",yt="removeItem",_t=function(){try{return!!window.localStorage}catch(e){return!1}}(),bt=function(e,t){var r;_t&&(r=ze((function(t){e.pushEvent(i,t)})),Be(localStorage,mt,(function(e){return r({storageType:this===localStorage?"localStorage":"sessionStorage",operateType:mt,key:e}),!1})),Be(localStorage,yt,(function(e){return r({storageType:this===localStorage?"localStorage":"sessionStorage",operateType:yt,key:e}),!1})),Be(localStorage,vt,(function(e,t){return r({storageType:this===localStorage?"localStorage":"sessionStorage",operateType:vt,key:e,value:t}),!1})))},gt="webapi",wt="network",kt="onvisibilitychange"in document&&_t&&"function"==typeof navigator.sendBeacon,xt="PUMBAA_FREQ",Rt=function(e){if(null===e)return{};var t=function(e){if("string"!=typeof e)return null;try{return JSON.parse(e)}catch(e){return null}}(e);return null===t||"object"!==ye(t)?{}:Object.keys(t).filter((function(e){return"number"==typeof t[e]})).reduce((function(e,r){return e[r]=t[r],e}),{})},Ot=function(e,t,r){var n=t;if(""!==e&&(n="".concat(e,".").concat(t)),r&&Object.keys(r).length>0){var a=Math.max.apply(Math,Ae(Object.keys(r).map(Number)))+1,o=Array.from(Object.assign(Object.assign({},r),{length:a})).map((function(e){var t=ye(e);return"string"===t?"'".concat(e,"'"):"undefined"===t?"":"".concat(e)})).join(",");n="".concat(n,"(").concat(o,")")}return n},St=function(e,t){switch(t){case gt:var r=e.apiObj,n=e.apiName,a=e.paramCondition;return Ot(r,n,a);case wt:return"".concat(t,"_").concat(e.ruleName);default:return""}},jt=function(e){var t,r;if(!kt)return[];for(var n,a,o=Rt(localStorage.getItem(xt)),i=null!=o?o:{},l=0,c=Object.keys(e);l<c.length;l++){var s,u=c[l],p=Ce(null!==(t=e[u])&&void 0!==t?t:[]);try{for(p.s();!(s=p.n()).done;){var d=s.value,f=St(d,u),h=null!==(r=d.freqSampleRate)&&void 0!==r?r:0,v=f in o&&(n=h,a=o[f]%1,Math.abs(n-a)<Number.EPSILON);i[f]=v?o[f]:Math.max(0,Math.min(1,h))+(Math.random()<h?1:0)}}catch(e){p.e(e)}finally{p.f()}localStorage.setItem(xt,JSON.stringify(i))}var m=Object.keys(i).filter((function(e){return i[e]>1&&i[e]<=2}));return m};function qt(e,t){for(var r in t){var n=t[r];if(e[r]!==n)return!1}return!0}var $t,Nt=Ie,At=function(e,t){var r,n=t.apis,a=e.webapiHook,o=e.webapiFreqHook,i=jt({webapi:n}),l=Ce(n);try{var c=function(){var e=r.value,t=e.sampleRate,n=e.apiType,l=e.apiObj,c=e.block,s=e.blockUrls,u=void 0===s?[]:s,p=e.blockWithCallbackParams,d=e.blockWithCallbackIdx,f=e.apiName,h=e.paramCondition,v=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=Ce(e.split(".").filter(Boolean));try{for(n.s();!(t=n.n()).done;){if(!(r=r[t.value]))return null}}catch(e){n.e(e)}finally{n.f()}return r}(l);if(!v)return"continue";var m=$((function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(!qt(n,h))return!1;var v=c||u.some((function(e){return new RegExp(e).test(document.location.href)}));if(We(t)&&a({apiRule:e,args:n,_blocked:v}),v&&(Nt(Ot(l,f)),"number"==typeof d)){var m=n[d];"function"==typeof m&&m.apply(null,[].concat(p))}return o&&!v&&i.includes(Ot(l,f,h))&&o({type:gt,eventDetail:e,time:Date.now()}),Boolean(v)}),void 0,!1);switch(n){case"method":Be(v,f,m);break;case"attribute_set":Me(v,f,{set:m});break;case"attribute_get":Me(v,f,{get:m});break;case"constructor":!function(e,t,r){try{return Le(null==e?void 0:e[t])&&void 0!==window.Proxy&&(e[t]=new Proxy(e[t],{construct:function(e,t){return r.apply(void 0,Ae(t))?null:Oe(e,Ae(t))}})),!0}catch(e){}}(v,f,m)}};for(l.s();!(r=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}},Et=function(e,t){return ze(fe,e)(e,t)},Tt=function(e,t){var r=b(e);return!!r&&t.some((function(e){return"".concat(r.host).concat(r.pathname).startsWith(e)}))},Ct=function(e){return Tt(location.href,e)},Pt=function(e,t){return Tt(t,e)},Lt=function(e,t,r,n){var a,o,i=null!==(a=ot().network.respHeaders)&&void 0!==a?a:[],l={},c=Ce(i);try{for(c.s();!(o=c.n()).done;){var s=o.value,u=null==t?void 0:t(s);"string"==typeof u&&(l[s]=u)}}catch(e){c.e(e)}finally{c.f()}q(n)((function(t){r(Object.assign(Object.assign({},t),{resp_status:e,resp_header:l}))}))},It=function(e,t){if(t)return t.filter((function(e){return Ct(e.urlPattern)})).find((function(t){return Pt(t.endpoint,e)}))},Dt=function(e){return"1"===e["x-pns-block"]||e._blocked||!1};function Ut(e){var t=e.switcher,r=e.request,n=e.eventDetail,a=t.callback,o=t.callbackEnabled,i=t.activeInterceptRules;if(z(n.request_url,document.URL))return r;return e.callstack&&(n.stack=e.callstack),n=i.reduce((function(e,t){return q(e)((function(e){return oe(t)?le(e,t):Et(e,t)}))}),n),q(n)((function(t){var n,i,l,c,s,u,p,d,f;if("1"===t["x-pns-block"]?f=K():t._blocked&&(f=Q()),j(t.body)?(null!==(i=null===(n=ot().network.respHeaders)||void 0===n?void 0:n.length)&&void 0!==i?i:0)>0?e.reportRequestEventDetail=t.body.then((function(e){return Object.assign(Object.assign({},t),{body:e})})):t.body.then((function(e){var r=Object.assign(Object.assign({},t),{body:e});a.report(r)})):(null!==(c=null===(l=ot().network.respHeaders)||void 0===l?void 0:l.length)&&void 0!==c?c:0)>0?e.reportRequestEventDetail=t:a.report(t),(null!==(u=null===(s=ot().network.freq)||void 0===s?void 0:s.length)&&void 0!==u?u:0)>0&&o.freq&&(null===(p=a.freq)||void 0===p||p.call(a,t)),f)return f;t._remove_body=-1!==(null!==(d=t._replaced_fields)&&void 0!==d?d:[]).indexOf("method")&&-1!==["GET","HEAD"].indexOf(t.method);var h=function(e,t){if(!t._replaced_fields||0===t._replaced_fields.length)return e;var r=-1!==t._replaced_fields.indexOf("body"),n=function(){var n=Promise.resolve(void 0);return t._remove_body?Promise.resolve(void 0):(r?(t.body=JSON.stringify(t.body),n=Promise.resolve(t.body)):e.headers.get("Content-Type")&&-1===["GET","HEAD"].indexOf(e.method.toUpperCase())&&(n=e.blob()),n)},a=e;if(-1!==t._replaced_fields.indexOf("url")||t._remove_body)a=n().then((function(r){var n,a={method:t.method,headers:new Headers(null!==(n=t.header_map)&&void 0!==n?n:{}),referrer:e.referrer,referrerPolicy:e.referrerPolicy,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,integrity:e.integrity,keepalive:e.keepalive,signal:e.signal,body:r};return new Request(t.request_url,a)}));else{var o,i={};-1!==t._replaced_fields.indexOf("method")&&(i.method=t.method),-1!==t._replaced_fields.indexOf("header")&&(i.headers=new Headers(null!==(o=t.header_map)&&void 0!==o?o:{})),a=r?n().then((function(t){return i.body=t,new Request(e,i)})):new Request(e,i)}return a}(r,t);return h}))}!function(e){e[e.SW_READY=0]="SW_READY"}($t||($t={}));var Ht={request_url:"",request_host:"",request_path:"",search:"",method:"",source:ee,_request_time:0,_sample_rate:0,_is_json_body:!1};function Mt(e,t,r){var n=!1,a=function(){n=!0,Lt(r.status,r.getResponseHeader.bind(r),t,e)};r.addEventListener("load",a),setTimeout((function(){n||(t(e),r.removeEventListener("load",a))}),5e3)}var Bt={};function Wt(e){var t=e.OriginalXHR,r=e.rule,n=e.switcher;if(0===Object.keys(Bt).length)for(var a in t.prototype)Bt[a]={enumerable:!0};return function(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(i,e);var t,a,o=(t=i,a=Re(),function(){var e,r=ke(t);if(a){var n=ke(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return je(this,e)});function i(){var e;return _e(this,i),(e=o.call(this)).__pumbaa_status=null,e.__pumbaa_readyState=null,e.__pumbaa_statusText=null,e.__pumbaa_detail=Ht,Se(e)instanceof i||Object.setPrototypeOf(Se(e),(this instanceof i?this.constructor:void 0).prototype),e.__pumbaa_callbackEnabled=Object.assign({},n.callbackEnabled),e}return ge(i,[{key:"status",get:function(){return null===this.__pumbaa_status?$e(ke(i.prototype),"status",this):this.__pumbaa_status},set:function(e){this.__pumbaa_status=e}},{key:"statusText",get:function(){return null===this.__pumbaa_statusText?$e(ke(i.prototype),"statusText",this):this.__pumbaa_statusText},set:function(e){this.__pumbaa_statusText=e}},{key:"readyState",get:function(){return null===this.__pumbaa_readyState?$e(ke(i.prototype),"readyState",this):this.__pumbaa_readyState},set:function(e){this.__pumbaa_readyState=e}},{key:"__pumbaa_hookFunc",value:function(e){var t=this;return function(){for(var r,n,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(t["__pumbaa_".concat(e)]){var c=ze(null===(n=t["__pumbaa_".concat(e)])||void 0===n?void 0:n.bind(t)).apply(void 0,o);if(!0===c)return;if(c&&("getResponseHeader"===e||"getAllResponseHeaders"===e))return c}return(r=$e(ke(i.prototype),e,t)).call.apply(r,[t].concat(o))}}},{key:"getResponseHeader",value:function(){return this.__pumbaa_hookFunc("getResponseHeader").apply(void 0,arguments)}},{key:"getAllResponseHeaders",value:function(){return this.__pumbaa_hookFunc("getAllResponseHeaders").apply(void 0,arguments)}},{key:"setRequestHeader",value:function(){return this.__pumbaa_hookFunc("setRequestHeader").apply(void 0,arguments)}},{key:"open",value:function(){return this.__pumbaa_hookFunc("open").apply(void 0,arguments)}},{key:"send",value:function(){return this.__pumbaa_hookFunc("send").apply(void 0,arguments)}},{key:"abort",value:function(){return this.__pumbaa_hookFunc("abort").apply(void 0,arguments)}},{key:"__pumbaa_getResponseHeader",value:function(){var e;if(void 0!==(null===(e=this.__pumbaa_res)||void 0===e?void 0:e.headers)){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=(null==r?void 0:r[0])?r[0].trim():"";if((a=a.toLowerCase())&&a in this.__pumbaa_res.headers)return this.__pumbaa_res.headers[a]}}},{key:"__pumbaa_getAllResponseHeaders",value:function(){var e;if(void 0!==(null===(e=this.__pumbaa_res)||void 0===e?void 0:e.headers)){var t="";return Object.keys(this.__pumbaa_res.headers).forEach((function(e){t="".concat(t+e,": ").concat(this._res.headers[e],"\r\n")})),t+$e(ke(i.prototype),"getAllResponseHeaders",this).call(this)}}},{key:"__pumbaa_setRequestHeader",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.__pumbaa_detail.header_map=Object.assign(Object.assign({},this.__pumbaa_detail.header_map),we({},r[0].toLowerCase(),r[1])),(e=$e(ke(i.prototype),"setRequestHeader",this)).call.apply(e,[this].concat(r)),!0}},{key:"__pumbaa_open",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0].toUpperCase(),o=new URL(r[1],location.href);this.__pumbaa_detail=Object.assign(Object.assign({},Ht),{method:a,request_url:o.href,request_host:o.host,request_path:o.pathname,search:o.search});var l=[this.__pumbaa_detail.method,this.__pumbaa_detail.request_url].concat(Ae(r.slice(2)));return(e=$e(ke(i.prototype),"open",this)).call.apply(e,[this].concat(Ae(l))),!0}},{key:"__pumbaa_send",value:function(){var e,t,a,o,l,c,s,u,p,d,f,h,v=this;this.__pumbaa_detail._request_time=Date.now(),this.__pumbaa_detail.header_names=Object.keys(null!==(e=this.__pumbaa_detail.header_map)&&void 0!==e?e:{}).join(",");var m=arguments.length<=0?void 0:arguments[0];-1!==["GET","HEAD"].indexOf(this.__pumbaa_detail.method)&&(m=void 0);var y=void 0!==m&&"string"==typeof(null===(t=this.__pumbaa_detail.header_map)||void 0===t?void 0:t["content-type"])&&-1!==this.__pumbaa_detail.header_map["content-type"].indexOf("application/json")&&"string"==typeof m;this.__pumbaa_detail._is_json_body=y,this.__pumbaa_detail.body=y?JSON.parse(m):m;var _,g=Ce(n.activeInterceptRules);try{for(g.s();!(_=g.n()).done;){var w=_.value;if(oe(w)){var k=w.ruleName,x=w.replace,R=w.allowlist,O=w.blocklist,S=w.enableSameOriginBlock,j=this.__pumbaa_detail.request_url;if(x){var q=(j=F(j,x))!==this.__pumbaa_detail.request_url;q&&(this.__pumbaa_detail.request_url=j,this.__pumbaa_detail["x-pns-replace"]="1",this.__pumbaa_detail._replaced_fields=[].concat(Ae(null!==(a=this.__pumbaa_detail._replaced_fields)&&void 0!==a?a:[]),["url"]),this.__pumbaa_detail.rule_name="".concat(this.__pumbaa_detail.rule_name?"".concat(this.__pumbaa_detail.rule_name,","):"").concat(k))}if(O||R){var $=G(j,{allowlist:R,blocklist:O,enableSameOriginBlock:S});$&&(this.__pumbaa_detail["x-pns-block"]="1",this.__pumbaa_detail.rule_name="".concat(this.__pumbaa_detail.rule_name?"".concat(this.__pumbaa_detail.rule_name,","):"").concat(k))}}else this.__pumbaa_detail=Et(this.__pumbaa_detail,w)}}catch(e){g.e(e)}finally{g.f()}if(Array.isArray(this.__pumbaa_detail._replaced_fields)&&(-1!==this.__pumbaa_detail._replaced_fields.indexOf("method")||-1!==this.__pumbaa_detail._replaced_fields.indexOf("url")||-1!==this.__pumbaa_detail._replaced_fields.indexOf("header"))){$e(ke(i.prototype),"open",this).call(this,this.__pumbaa_detail.method,this.__pumbaa_detail.request_url);for(var N=0,A=Object.keys(null!==(o=this.__pumbaa_detail.header_map)&&void 0!==o?o:{});N<A.length;N++){var E=A[N];$e(ke(i.prototype),"setRequestHeader",this).call(this,E,this.__pumbaa_detail.header_map[E])}}var T=b(this.__pumbaa_detail.request_url);if(T){var C=(null!==(l=r.withStack)&&void 0!==l?l:[]).filter((function(e){return Ct(e.urlPattern)})),P=C.find((function(e){return Pt(e.endpoint,v.__pumbaa_detail.request_url)}));P&&Ve((function(){return v.__pumbaa_detail.stack=Fe(9)}),P.rate)(),(null!==(s=null===(c=ot().network.respHeaders)||void 0===c?void 0:c.length)&&void 0!==s?s:0)>0?Mt(this.__pumbaa_detail,n.callback.report,this):n.callback.report(this.__pumbaa_detail),(null!==(p=null===(u=ot().network.freq)||void 0===u?void 0:u.length)&&void 0!==p?p:0)>0&&this.__pumbaa_callbackEnabled.freq&&(null===(f=(d=n.callback).freq)||void 0===f||f.call(d,this.__pumbaa_detail))}if(Dt(this.__pumbaa_detail)){var I="1"===this.__pumbaa_detail["x-pns-block"]?K():Q();return this.__pumbaa_is_aborted||(this.status=I.status,this.readyState=4,this.statusText=I.statusText,this.__pumbaa_res={headers:Ae(I.headers).reduce((function(e,t){var r=Ne(t,2),n=r[0],a=r[1];return e[n]=a,e}),{})},L.error("".concat(this.__pumbaa_detail.method," ").concat(this.__pumbaa_detail.request_url," ").concat(this.status," (").concat(this.statusText,")"))),!0}return-1!==(null===(h=this.__pumbaa_detail._replaced_fields)||void 0===h?void 0:h.indexOf("body"))?($e(ke(i.prototype),"send",this).call(this,y?JSON.stringify(this.__pumbaa_detail.body):this.__pumbaa_detail.body),!0):($e(ke(i.prototype),"send",this).call(this,m),!0)}},{key:"__pumbaa_abort",value:function(){this.__pumbaa_is_aborted=!0}}]),i}(t);for(var a in e.prototype)delete Bt[a];return Object.defineProperties(e.prototype,Bt),e}()}var Ft="PerformanceObserver"in window,Gt=["xmlhttprequest","fetch","beacon"];function Jt(e,t){var r=e.switcher.activeInterceptRules.map((function(e){return oe(e)?e:Object.assign(Object.assign({},e),{handlers:e.handlers.filter((function(e){return"report"===e.handler}))})}));t.getEntries().forEach((function(t){if(e.isBufferedEntry||!Gt.includes(t.initiatorType)){var n=function(e){var t=b(e.name);if(void 0!==t)return{request_url:t.href,request_host:t.host,request_path:t.pathname,method:"UNKNOWN",source:Z,search:t.search,_request_time:Math.trunc(e.startTime+performance.timeOrigin),initiator_type:e.initiatorType,resp_status:e.responseStatus,_is_json_body:!1,_sample_rate:0}}(t);if(n){n.perf_buf=e.isBufferedEntry;var a=e.switcher.getState($t.SW_READY);void 0!==a&&(n.sw_ready="".concat(a));var o,i=Object.assign({},n),l=Ce(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;i=oe(c)?le(i,c):Et(i,c)}}catch(e){l.e(e)}finally{l.f()}i=Object.assign(Object.assign(Object.assign({},i),n),{_sample_rate:i._sample_rate}),setTimeout((function(){var r,n,a,o;-1===e.securityPolicyViolationURLs.indexOf(t.name)&&(e.switcher.callback.report(i),(null!==(n=null===(r=ot().network.freq)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0&&e.switcher.callbackEnabled.freq&&(null===(o=(a=e.switcher.callback).freq)||void 0===o||o.call(a,i)))}),100)}}})),e.isBufferedEntry=!1}var Vt,zt,Yt,Xt=ze((function(e){var t={isBufferedEntry:!0,securityPolicyViolationURLs:function(){var e=[];return document.addEventListener("securitypolicyviolation",(function(t){var r=b(t.blockedURI);r&&"report"!==t.disposition&&-1===e.indexOf(r.href)&&(100===e.length&&e.shift(),e.push(r.href))})),e}(),switcher:e},r=Ft?new PerformanceObserver((function(e){return Jt(t,e)})):null;try{null==r||r.observe({type:"resource",buffered:!0})}catch(e){Jt(t,{getEntries:function(){return performance.getEntriesByType("resource")}}),null==r||r.observe({entryTypes:["resource"]})}})),Kt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a,o,i,l,c,s,u=t[0],p=t[1],d=Date.now(),f=b(u,location.origin);p instanceof Blob?l=p.type?p.type:void 0:p instanceof FormData?l="multipart/form-data":window.URLSearchParams&&p instanceof URLSearchParams?l="application/x-www-form-urlencoded":"string"==typeof p&&(l="text/plain");var h=function(){"string"==typeof p&&(s=Ye(p)),c=void 0!==s},v={request_url:null!==(n=null==f?void 0:f.href)&&void 0!==n?n:"",request_host:null!==(a=null==f?void 0:f.host)&&void 0!==a?a:"",request_path:null!==(o=null==f?void 0:f.pathname)&&void 0!==o?o:"",search:null!==(i=null==f?void 0:f.search)&&void 0!==i?i:"",contentType:l,header_names:l?"content-type":void 0,header_map:l?{"content-type":l}:void 0,body:p,method:"POST",source:re,_request_time:d,_sample_rate:0,get _is_json_body(){return delete this._is_json_body,void 0===c&&h(),this._is_json_body=c,this._is_json_body},get _parsed_json_body(){return delete this._parsed_json_body,void 0===c&&h(),this._parsed_json_body=s,this._parsed_json_body}};return v},Qt=function(e){var t=e.eventDetail,r=e.switcher.activeInterceptRules;if(z(t.request_url,document.URL))return e.params;var n,a,o,i=Ce(r);try{for(i.s();!(n=i.n()).done;){var l=n.value;if(oe(l))t=le(t,l);else{var c=Object.assign(Object.assign({},l),{handlers:l.handlers.filter((function(e){return"method"!==e.type&&"header"!==e.type}))});t=Et(t,c)}}}catch(e){i.e(e)}finally{i.f()}return Dt(t)||(e.params=(a=e.params,(o=t)._replaced_fields&&0!==o._replaced_fields.length?(o.body=-1!==o._replaced_fields.indexOf("body")?JSON.stringify(o._parsed_json_body):o.body,[o.request_url,o.body]):a)),e.params},Zt=function(e){var t,r=e.switcher,n=r.callback,a=r.callbackEnabled,o=e.eventDetail;n.report(o),a.freq&&(null===(t=n.freq)||void 0===t||t.call(n,o))},er=function(){function e(t,r,n,a){if(_e(this,e),null!==e._instance)return e._instance;this.initRule(r,a),this.states=we({},$t.SW_READY,0),this.callback=t,this.callbackEnabled=n,this.initPerformance(),this.hookBeacon(),this.hookFetch(),this.hookXHR(),e._instance=this}return ge(e,[{key:"initRule",value:function(e,t){this.rule=e,this.matchRulesByPageContext(t),tt(this.matchRulesByPageContext.bind(this),ie(this.rule.intercept))}},{key:"setState",value:function(e,t){this.states[e]=t}},{key:"getState",value:function(e){return this.states[e]}},{key:"matchRulesByPageContext",value:function(e){this.activeInterceptRules=function(e,t){return e.filter((function(e){return oe(e)?e.urlPattern.some((function(e){return"*"===e||-1!==t.url.indexOf(e)})):e.conditions.every((function(e){return"context"!==e.type||S(t[e.field],e.pattern)}))}))}(this.rule.intercept,e)}},{key:"hookBeacon",value:function(){if(navigator.sendBeacon){null!=Yt||(Yt=navigator.sendBeacon);var e=this;navigator.sendBeacon=function(){for(var t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var l=Kt.apply(void 0,o);if((null!==(n=null===(r=ot().network.withStack)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0){var c=It(l.request_url,e.rule.withStack);c&&Ve((function(){return l.stack=Fe(5)}),c.rate)()}var s={params:o,switcher:e,eventDetail:l},u=Qt(s),p=Dt(s.eventDetail),d=!p&&(t=Yt).call.apply(t,[this].concat(Ae(u)));return s.eventDetail.beacon_ret=d,(d||he(s.eventDetail))&&Zt(s),d}}}},{key:"hookFetch",value:function(){var e=this;if(window.fetch){var t=this.callback;null!=Vt||(Vt=window.fetch),window.fetch=function(){for(var r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var l=Oe(Request,o),c=Object.assign(Object.assign({},ae(l)),{source:te}),s={request:l,switcher:e,eventDetail:Object.assign(Object.assign({},c),{source:te})};if((null!==(n=null===(r=ot().network.withStack)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0){var u=It(s.request.url,e.rule.withStack);u&&Ve((function(){return s.callstack=Fe(5)}),u.rate)()}var p=Ut(s);function d(e){var r,n=ze((function(e){var r,n,a;if((null!==(n=null===(r=ot().network.respHeaders)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0){var o=e.status,i=s.reportRequestEventDetail;Lt(o,null===(a=e.headers)||void 0===a?void 0:a.get.bind(e.headers),t.report,i)}return e}));return(r=e instanceof Request?Vt(e):Promise.resolve(e)).then(n).catch((function(){return r}))}return j(p)?p.then(d):d(p)}}}},{key:"hookXHR",value:function(){null!=zt||(zt=window.XMLHttpRequest);var e=Wt({OriginalXHR:zt,rule:this.rule,reporter:this.callback,switcher:this});window.XMLHttpRequest=e}},{key:"initPerformance",value:function(){Xt(this)}}],[{key:"getInstance",value:function(){if(null===e._instance){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("HookSwitcher should be initialized with reporter and rules");Oe(e,r)}return e._instance}}]),e}();er._instance=null;var tr,rr,nr,ar=[a,c],or=-1e4,ir=(tr=function(){return ht(void 0,void 0,void 0,me().mark((function t(){var r,n;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serviceWorker.getRegistration();case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return");case 5:n={eventName:s,source:e},r.waiting?r.waiting.postMessage(n):r.addEventListener("updatefound",(function(){var e;null===(e=r.installing)||void 0===e||e.addEventListener("statechange",(function(){var e;null===(e=r.waiting)||void 0===e||e.postMessage(n)}))}));case 7:case"end":return t.stop()}}),t)})))},nr=!1,function(){if(!nr){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];rr=tr.apply(this,t),nr=!0}return rr}),lr=function(t,r){var n=jt(we({},wt,t)),a=t.filter((function(e){return-1!==n.indexOf("".concat(wt,"_").concat(e.ruleName))})),o=function(e,t,r){var n="string"==typeof e?b(e):e;if(!n)return r;var a="".concat(n.origin).concat(n.pathname),o=!0,i=!1,l=void 0;try{for(var c,s=t[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;if(u.urlPattern.some((function(e){return"*"===e||-1!==a.indexOf(e)})))return u}}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}}(document.URL,a);if(P.log("network freq rule:",JSON.stringify(o,null,2)),void 0===o)return Ie;var i=o.freqSampleRate,l=o.reportList;return function(t){if(l.some((function(e){return"*"===e||t.request_url.startsWith(e)}))){var n={type:wt,eventDetail:{method:t.method,url:t.request_url,freqSampleRate:i},time:t._request_time};r.pushEvent(u,n,e)}}},cr=function(t,r){var n=r.freq,o=void 0===n?[]:n,i=r.sampleRate;r.intercept=[{ruleName:"",conditions:[],global:!0,priority:or,handlers:[{type:"self",handler:"report",value:i}]}].concat(Ae(r.intercept)).sort((function(e,t){return(null!==(Y=e.priority)&&void 0!==Y?Y:100)-(null!==(X=t.priority)&&void 0!==X?X:100)}));var s=function(){var e,t=O();if(!t)return{};null!==(e=t.swReportedURLs)&&void 0!==e||(t.swReportedURLs=[]);var r=t.swReportedURLs;return{check:function(e){var t=r.indexOf(e);return-1!==t&&(r.splice(t,1),!0)},push:function(e){r.length>=100&&r.shift(),r.push(e)}}}(),u=s.check,p=s.push,m={report:ze((function(r){if(r.source!==Z||!(null==u?void 0:u(r.request_url))){var n=r._sample_rate;Ve((function(){return t.pushEvent(a,{eventName:a,eventMetrics:{count:1},eventDetail:r},e,{sample_rate:n})}),n)()}})),freq:o.length>0&&kt?ze(lr(o,t)):void 0},y=new er(m,r,{freq:o.length>0},at().pageContext);if(navigator&&"serviceWorker"in navigator){var _=Qe(),b=_.sw,g=_.sw_version,w=!1;navigator.serviceWorker.addEventListener("message",ze((function(r){var n,o,l,c;if(r.data.event===h){var s=r.data.data;if(-1===ar.indexOf(s.eventName))return;if(a===s.eventName){if((null!==(n=s.eventDetail)&&void 0!==n?n:{}).rule_name){null==p||p(null!==(l=null===(o=s.eventDetail)||void 0===o?void 0:o._old_url)&&void 0!==l?l:s.eventDetail.request_url);var u=null!==(c=s.eventDetail._sample_rate)&&void 0!==c?c:i;Ve((function(){t.pushEvent(s.eventName,s,e,{sample_rate:u})}),u)()}s.sw_version||ir()}w||(w=!0,"string"==typeof b&&"string"==typeof g&&s.sw_version!==g&&setTimeout((function(){var e;navigator.serviceWorker.register((e=b).startsWith("http")?e:"".concat(location.origin).concat(e),{updateViaCache:"none"}),ir()}),0))}else r.data.event===v&&r.data.error&&t.pushError(r.data.error)}))),navigator.serviceWorker.ready.then((function(t){var n;y.setState($t.SW_READY,1);var a=null!==(n=null==t?void 0:t.active)&&void 0!==n?n:navigator.serviceWorker.controller;(null==a?void 0:a.postMessage)&&([{eventName:c,source:e},{eventName:d,source:e,data:at().pageContext},{eventName:f,source:e,data:r.intercept}].forEach((function(e){return a.postMessage(e)})),tt((function(t){a.postMessage({eventName:d,source:e,data:t})})))}))}else t.pushEvent(l)};function sr(e){var t=ot(),r=t.cookie;t.storage;var n=t.webapi,a=t.network;ft(e,r),bt(e),function(e,t){At({webapiHook:ze((function(t){e.pushEvent(o,t)})),webapiFreqHook:kt?ze((function(t){e.pushEvent(u,t)})):void 0},t)}(e,n),cr(e,a)}var ur="__PUMBAA_RUN_FLAG__";try{(function(){if(/ByteLocale/g.test(navigator.userAgent))return!1;var e=!0;return window.Garfish&&(e=window.Garfish.getGlobalObject()===window),!(!e||window[ur]||(window[ur]=1,0))})()&&function(e,r){return function(){var n=Date.now(),a=e.apply(void 0,arguments);return x().pushEvent(p,{metrics:{time:Date.now()-n},categories:{version:"1.0.0.818",runtime_env:t,module:r}}),a}}((function(){if(window.Symbol){var e=x();ze(sr)(e);var t=g(),r=document.createElement("script"),n=document.currentScript,a=n.src,o=n.dataset,i=a.substring(0,a.lastIndexOf("/")),l="".concat(i,"/core.js","?globalName=").concat(t);r.src=l,r.crossOrigin="anonymous",r.async=!0,Object.assign(r.dataset,o),document.head.appendChild(r),document.head.removeChild(r)}}),"loader")()}catch(e){}}();
